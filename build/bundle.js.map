{"version":3,"file":"bundle.js","sources":["../../src/updateView/index.js","../../src/images/images.js","../../src/images/pauseUrls.js","../../src/images/workUrls.js","../../src/index.js","../../src/whiteSound/index.js","../../src/timer/index.js","../../src/buttonsListeners/index.js"],"sourcesContent":["const minuteElem = document.getElementById('minute');\nconst secondElem = document.getElementById('second');\nconst title = document.title;\n\nexport function updatedView(countDown, status=\"stoped\") {\n    const minutes = twoDigts(countDown / 60);\n    const seconds = twoDigts(countDown % 60);\n    const countText =  minutes + \":\" + seconds;\n    \n    minuteElem.innerHTML = minutes;\n    secondElem.innerHTML = seconds;\n\n    if(status=== \"playing\")\n        document.title = countText;\n    else\n        document.title = title\n}\n\nfunction twoDigts(num = 0) {\n    const fixedNumber = Math.floor(num);\n    return fixedNumber < 10 ? `0${fixedNumber}` : `${fixedNumber}`;\n}","import { pause } from \"./pauseUrls\";\nimport { work } from \"./workUrls\";\n\nconst bg = document.getElementById('bg');\n\nconst allCached = [];\nconst cachedImage = {\n    work: getWorkWallpaper(),\n    pause: getPauseWallpaper(),\n}\n\nexport function updateWallpaper(type=\"job-timer\"){\n    const newImage = type===\"job-timer\" ? getWorkWallpaper() : getPauseWallpaper();\n    const cached = type===\"job-timer\" ? cachedImage.work : cachedImage.pause;\n    bg.style.backgroundImage = `url(${cached})`;\n    \n    cachedImage[type===\"job-timer\" ? 'work':'pause'] = newImage;\n    preloadImage(newImage);\n}\n\nfunction getWorkWallpaper(){\n    return work[Math.floor(Math.random()*work.length)];\n}\n\nfunction getPauseWallpaper(){\n    return pause[Math.floor(Math.random()*pause.length)];\n}\n\nfunction preloadImage(url, callback=()=>{}){\n    if(!allCached.includes(url)){\n        const img = new Image();\n        img.src = url;\n        img.onload = ()=>{\n            callback(url);\n        }\n        allCached.push(url)\n    }\n}\n\npreloadImage(\"assets/bg.jpg\", (url)=>{\n    bg.style.backgroundImage = `url(${url})`;\n    bg.style.filter = \"none\";\n});\n\npreloadImage(cachedImage.work);\npreloadImage(cachedImage.pause);","export const pause = [\n    \"https://images6.alphacoders.com/309/309389.jpg\",\n    \"https://images5.alphacoders.com/414/414718.jpg\",\n    \"https://images.alphacoders.com/740/740759.jpg\",\n    \"https://images4.alphacoders.com/266/266886.jpg\",\n    \"https://images8.alphacoders.com/702/702517.jpg\",\n    \"https://images6.alphacoders.com/710/710087.jpg\",\n    \"https://images.alphacoders.com/154/154833.jpg\",\n    \"https://images2.alphacoders.com/169/169520.jpg\",\n    \"https://images8.alphacoders.com/998/998442.jpg\",\n    \"https://images8.alphacoders.com/439/439741.jpg\",\n    \"https://images5.alphacoders.com/397/397723.jpg\",\n    \"https://images8.alphacoders.com/420/420232.jpg\",\n    \"https://images.alphacoders.com/210/210911.jpg\",\n    \"https://images7.alphacoders.com/903/903073.jpg\",\n    \"https://images2.alphacoders.com/221/221862.jpg\",\n    \"https://images6.alphacoders.com/886/886499.png\",\n    \"https://images7.alphacoders.com/883/883108.jpg\",\n    \"https://images3.alphacoders.com/685/685133.jpg\",\n    \"https://images8.alphacoders.com/542/542931.jpg\",\n    \"https://images3.alphacoders.com/266/266449.png\",\n    \"https://images3.alphacoders.com/102/1028128.jpg\",\n    \"https://images6.alphacoders.com/394/394257.jpg\",\n    \"https://images2.alphacoders.com/825/825225.jpg\",\n    \"https://images.alphacoders.com/766/766853.jpg\",\n    \"https://images6.alphacoders.com/413/413547.jpg\",\n    \"https://images.alphacoders.com/598/598747.jpg\",\n    \"https://images2.alphacoders.com/524/524880.jpg\",\n    \"https://images8.alphacoders.com/417/417298.jpg\",\n    \"https://images6.alphacoders.com/315/315677.jpg\",\n    \"https://images.alphacoders.com/591/591188.jpg\"\n];\n\n//https://wall.alphacoders.com/by_category.php?id=24&name=Fotografia+Pap%C3%A9is+de+Parede&lang=Portuguese&page=31\n","export const work =[\n    \"https://images3.alphacoders.com/101/101567.jpg\",\n    \"https://images6.alphacoders.com/543/543670.jpg\",\n    \"https://images7.alphacoders.com/337/337387.jpg\",\n    \"https://images.alphacoders.com/903/90353.jpg\",\n    \"https://images3.alphacoders.com/262/262947.jpg\",\n    \"https://images5.alphacoders.com/400/400629.jpg\",\n    \"https://images5.alphacoders.com/425/425801.jpg\",\n    \"https://images8.alphacoders.com/714/714837.jpg\",\n    \"https://images.alphacoders.com/684/684911.jpg\",\n    \"https://images7.alphacoders.com/647/647788.jpg\",\n    \"https://images3.alphacoders.com/243/243017.jpg\",\n    \"https://images4.alphacoders.com/786/786579.jpg\",\n    \"https://images3.alphacoders.com/151/151725.jpg\",\n    \"https://images3.alphacoders.com/725/725892.png\",\n    \"https://images3.alphacoders.com/245/245545.jpg\",\n    \"https://images3.alphacoders.com/165/165245.jpg\",\n    \"https://images7.alphacoders.com/716/716602.png\",\n    \"https://images3.alphacoders.com/577/577985.jpg\",\n    \"https://images7.alphacoders.com/491/491010.jpg\",\n    \"https://images2.alphacoders.com/463/463859.jpg\",\n    \"https://images7.alphacoders.com/393/393815.jpg\",\n    \"https://images5.alphacoders.com/366/366600.jpg\",\n    \"https://images5.alphacoders.com/316/316871.jpg\",\n    \"https://images4.alphacoders.com/247/247224.jpg\",\n    \"https://images8.alphacoders.com/724/724874.jpg\",\n    \"https://images3.alphacoders.com/702/702699.jpg\",\n    \"https://images6.alphacoders.com/300/300194.jpg\",\n    \"https://images.alphacoders.com/262/262931.jpg\",\n    \"https://images3.alphacoders.com/217/217487.jpg\",\n    \"https://images3.alphacoders.com/102/1020088.jpg\",\n    \"https://images6.alphacoders.com/372/372531.jpg\",\n    \"https://images7.alphacoders.com/352/352487.jpg\"\n];","import {createTimer} from './timer/index';\nimport {updatedView} from './updateView/index';\nimport { createButtonsListeners } from './buttonsListeners/index';\nimport { updateWallpaper } from './images/images';\nimport whitesoundPlayer from './whiteSound/index'\n\nvar audio = new Audio('assets/timer.wav');\naudio.volume = 0.4;\nvar jobMinutes = 25;\nvar pauseMinutes = 5;\nconst whiteSound = whitesoundPlayer();\nconst timer = createTimer();\nconst buttonsListener = createButtonsListeners();\n\nconst buttonsActions = {\n    \"job-timer\": () => {\n        whiteSound.play();\n        timer.play(jobMinutes * 60);\n    },\n    \"pause-timer\": () => {\n        whiteSound.stop();\n        timer.play(pauseMinutes * 60);\n    },\n    \"stop\": () => {\n        whiteSound.stop();\n        timer.stop()\n    },\n}\n\nbuttonsListener.onClick((buttonClicked)=>{\n    updateWallpaper(buttonClicked)\n    if(buttonsActions[buttonClicked])\n        buttonsActions[buttonClicked]();\n})\n\ntimer.onChange(({status, seconds})=>{\n    updatedView(seconds, status);\n\n    if(status === \"end\"){\n        audio.play();\n    }\n});","function whitesoundPlayer() {\n    const audio = new Audio('assets/whitesound.wav');\n    audio.volume = 0.4;\n\n    return {\n        play() {\n            audio.play();\n            audio.addEventListener('ended', function () {\n                this.currentTime = 0;\n                this.play();\n            }, false);\n        },\n        stop() {\n            audio.pause();\n            audio.currentTime = 0;\n            audio.removeEventListener('ended', function () { });\n        }\n    }\n}\n\nexport default whitesoundPlayer;","export function createTimer(){\n    const state = {\n        timerInterval: null,\n        status: \"stoped\",\n        secondsCountDown: 0,\n        observers:[]\n    }\n\n    function onChange(observerFunction){\n        state.observers.push(observerFunction);\n    }\n    \n    function notify(){\n        for (const observerFunction of state.observers) {\n            observerFunction({\n                status: state.status,\n                seconds: state.secondsCountDown\n            })\n        }\n    }\n\n    function play(seconds){\n        changeState(seconds, 'start');\n        startInterval();\n    }\n\n    function stop(){\n        clear();\n        changeState(0, 'stoped');\n    }\n\n    function clear(){\n        if (state.timerInterval) clearInterval(state.timerInterval);\n    }\n\n    function changeState(seconds, status){\n        state.status = status;\n        state.secondsCountDown = seconds;\n        notify();\n    }\n\n    function startInterval(){\n        clear();\n\n        state.timerInterval = setInterval(function () {\n            const countDown = state.secondsCountDown-1;\n\n            if(countDown>0)\n                changeState(countDown, 'playing');\n            else{\n                changeState(0, 'end');\n                clear();\n            }\n        }, 1000);\n    }\n\n    return {\n        onChange,\n        play,\n        stop\n    }\n}","export function createButtonsListeners(){\n    const state = {\n        observers:[]\n    }\n\n    function onClick(observerFunction){\n        state.observers.push(observerFunction);\n    }\n    \n    function notify(buttonClicked){\n        for (const observerFunction of state.observers) {\n            observerFunction(buttonClicked);\n        }\n    }\n\n    document.querySelectorAll(\".actions button\").forEach(button=>{\n        button.addEventListener(\"click\", ()=> notify(button.id));\n    })\n\n    return {\n        onClick\n    }\n}"],"names":["Math","floor","updatedView","countDown","status","minutes","twoDigts","seconds","minuteElem","innerHTML","secondElem","document","title","num","fixedNumber","updateWallpaper","type","newImage","getWorkWallpaper","getPauseWallpaper","cached","cachedImage","work","pause","bg","style","backgroundImage","preloadImage","random","length","url","callback","allCached","includes","img","Image","src","onload","push","getElementById","filter","audio","Audio","volume","whiteSound","play","addEventListener","currentTime","stop","removeEventListener","timer","notify","observerFunction","state","observers","secondsCountDown","clear","timerInterval","clearInterval","changeState","startInterval","setInterval","onChange","buttonsListener","buttonClicked","querySelectorAll","forEach","button","id","onClick","buttonsActions"],"mappings":"0RAmBwBA,IAAI,CAACC,MAftB,QAASC,CAAAA,CAAT,CAAqBC,CAArB,CAAgCC,CAAM,CAAC,QAAvC,CAAiD,MAC9CC,CAAAA,CAAO,CAAGC,CAAQ,CAACH,CAAS,CAAG,EAAb,CAD4B,CAE9CI,CAAO,CAAGD,CAAQ,CAACH,CAAS,CAAG,EAAb,CAF4B,CAKpDK,CAAU,CAACC,SAAX,CAAuBJ,CAL6B,CAMpDK,CAAU,CAACD,SAAX,CAAuBF,CAN6B,CAShDI,QAAQ,CAACC,KATuC,CAQvC,SAAV,GAAAR,CARiD,CAGjCC,CAAO,CAAG,GAAV,CAAgBE,CAHiB,CAW/BK,CACxB,CAED,QAASN,CAAAA,CAAT,CAAkBO,CAAG,CAAG,CAAxB,CAA2B,CACvB,KAAMC,CAAAA,CAAW,CAAG,EAAWD,CAAX,CAApB,CACA,MAAqB,GAAd,CAAAC,CAAW,CAAS,IAAGA,CAAY,EAAxB,CAA6B,GAAEA,CAAY,GCT1D,QAASC,CAAAA,CAAT,CAAyBC,CAAI,CAAC,WAA9B,CAA0C,MACvCC,CAAAA,CAAQ,CAAU,WAAP,GAAAD,CAAI,CAAiBE,CAAgB,EAAjC,CAAsCC,CAAiB,EAD/B,CAEvCC,CAAM,CAAU,WAAP,GAAAJ,CAAI,CAAiBK,CAAW,CAACC,IAA7B,CAAoCD,CAAW,CAACE,KAFtB,CAG7CC,CAAE,CAACC,KAAH,CAASC,eAAT,CAA4B,OAAMN,CAAO,GAHI,CAK7CC,CAAW,CAAQ,WAAP,GAAAL,CAAI,CAAiB,MAAjB,CAAwB,OAA7B,CAAX,CAAmDC,CALN,CAM7CU,CAAY,CAACV,CAAD,CACf,CAED,QAASC,CAAAA,CAAT,EAA2B,CACvB,MAAOI,CAAAA,CAAI,CAAC,EAAWtB,IAAI,CAAC4B,MAAL,GAAcN,CAAI,CAACO,MAA9B,CAAD,CACd,CAED,QAASV,CAAAA,CAAT,EAA4B,CACxB,MAAOI,CAAAA,CAAK,CAAC,EAAWvB,IAAI,CAAC4B,MAAL,GAAcL,CAAK,CAACM,MAA/B,CAAD,CACf,CAED,QAASF,CAAAA,CAAT,CAAsBG,CAAtB,CAA2BC,CAAQ,CAAC,IAAI,CAAE,CAA1C,CAA2C,CACvC,GAAG,CAACC,CAAS,CAACC,QAAV,CAAmBH,CAAnB,CAAJ,CAA4B,CACxB,KAAMI,CAAAA,CAAG,CAAG,GAAIC,CAAAA,KAAhB,CACAD,CAAG,CAACE,GAAJ,CAAUN,CAFc,CAGxBI,CAAG,CAACG,MAAJ,CAAa,IAAI,CACbN,CAAQ,CAACD,CAAD,EAJY,CAMxBE,CAAS,CAACM,IAAV,CAAeR,CAAf,CACH,CACJ,MDrCKtB,CAAAA,CAAU,CAAGG,QAAQ,CAAC4B,cAAT,CAAwB,QAAxB,EACb7B,CAAU,CAAGC,QAAQ,CAAC4B,cAAT,CAAwB,QAAxB,EACb3B,CAAK,CAAGD,QAAQ,CAACC,MEFVW,CAAK,CAAG,CACjB,gDADiB,CAEjB,gDAFiB,CAGjB,+CAHiB,CAIjB,gDAJiB,CAKjB,gDALiB,CAMjB,gDANiB,CAOjB,+CAPiB,CAQjB,gDARiB,CASjB,gDATiB,CAUjB,gDAViB,CAWjB,gDAXiB,CAYjB,gDAZiB,CAajB,+CAbiB,CAcjB,gDAdiB,CAejB,gDAfiB,CAgBjB,gDAhBiB,CAiBjB,gDAjBiB,CAkBjB,gDAlBiB,CAmBjB,gDAnBiB,CAoBjB,gDApBiB,CAqBjB,iDArBiB,CAsBjB,gDAtBiB,CAuBjB,gDAvBiB,CAwBjB,+CAxBiB,CAyBjB,gDAzBiB,CA0BjB,+CA1BiB,CA2BjB,gDA3BiB,CA4BjB,gDA5BiB,CA6BjB,gDA7BiB,CA8BjB,+CA9BiB,ECARD,CAAI,CAAE,CACf,gDADe,CAEf,gDAFe,CAGf,gDAHe,CAIf,8CAJe,CAKf,gDALe,CAMf,gDANe,CAOf,gDAPe,CAQf,gDARe,CASf,+CATe,CAUf,gDAVe,CAWf,gDAXe,CAYf,gDAZe,CAaf,gDAbe,CAcf,gDAde,CAef,gDAfe,CAgBf,gDAhBe,CAiBf,gDAjBe,CAkBf,gDAlBe,CAmBf,gDAnBe,CAoBf,gDApBe,CAqBf,gDArBe,CAsBf,gDAtBe,CAuBf,gDAvBe,CAwBf,gDAxBe,CAyBf,gDAzBe,CA0Bf,gDA1Be,CA2Bf,gDA3Be,CA4Bf,+CA5Be,CA6Bf,gDA7Be,CA8Bf,iDA9Be,CA+Bf,gDA/Be,CAgCf,gDAhCe,EFGbE,CAAE,CAAGb,QAAQ,CAAC4B,cAAT,CAAwB,IAAxB,EAELP,CAAS,CAAG,GACZX,CAAW,CAAG,CAChBC,IAAI,CAAEJ,CAAgB,EADN,CAEhBK,KAAK,CAAEJ,CAAiB,EAFR,EAiCpBQ,CAAY,CAAC,eAAD,CAAmBG,CAAD,EAAO,CACjCN,CAAE,CAACC,KAAH,CAASC,eAAT,CAA4B,OAAMI,CAAI,GADL,CAEjCN,CAAE,CAACC,KAAH,CAASe,MAAT,CAAkB,MACrB,CAHW,EAKZb,CAAY,CAACN,CAAW,CAACC,IAAb,EACZK,CAAY,CAACN,CAAW,CAACE,KAAb,EGvCZ,GAAIkB,CAAAA,CAAK,CAAG,GAAIC,CAAAA,KAAJ,CAAU,kBAAV,CAAZ,CACAD,CAAK,CAACE,MAAN,CAAe,QAGTC,CAAAA,CAAU,CCVhB,UAA4B,CACxB,KAAMH,CAAAA,CAAK,CAAG,GAAIC,CAAAA,KAAJ,CAAU,uBAAV,CAAd,CAGA,MAFAD,CAAAA,CAAK,CAACE,MAAN,CAAe,EAEf,CAAO,CACHE,IAAI,EAAG,CACHJ,CAAK,CAACI,IAAN,EADG,CAEHJ,CAAK,CAACK,gBAAN,CAAuB,OAAvB,CAAgC,UAAY,CACxC,KAAKC,WAAL,CAAmB,CADqB,CAExC,KAAKF,IAAL,EACH,CAHD,IAIH,CAPE,CAQHG,IAAI,EAAG,CACHP,CAAK,CAAClB,KAAN,EADG,CAEHkB,CAAK,CAACM,WAAN,CAAoB,CAFjB,CAGHN,CAAK,CAACQ,mBAAN,CAA0B,OAA1B,CAAmC,UAAY,CAAG,CAAlD,CACH,CAZE,CAcV,CDRkB,GACbC,CAAK,CEXJ,UAAsB,CAYzB,QAASC,CAAAA,CAAT,EAAiB,CACb,IAAK,KAAMC,CAAAA,CAAX,GAA+BC,CAAAA,CAAK,CAACC,SAArC,CACIF,CAAgB,CAAC,CACbhD,MAAM,CAAEiD,CAAK,CAACjD,MADD,CAEbG,OAAO,CAAE8C,CAAK,CAACE,gBAFF,CAAD,CAKvB,CAYD,QAASC,CAAAA,CAAT,EAAgB,CACRH,CAAK,CAACI,aADE,EACaC,aAAa,CAACL,CAAK,CAACI,aAAP,CACzC,CAED,QAASE,CAAAA,CAAT,CAAqBpD,CAArB,CAA8BH,CAA9B,CAAqC,CACjCiD,CAAK,CAACjD,MAAN,CAAeA,CADkB,CAEjCiD,CAAK,CAACE,gBAAN,CAAyBhD,CAFQ,CAGjC4C,CAAM,EACT,CAED,QAASS,CAAAA,CAAT,EAAwB,CACpBJ,CAAK,EADe,CAGpBH,CAAK,CAACI,aAAN,CAAsBI,WAAW,CAAC,UAAY,CAC1C,KAAM1D,CAAAA,CAAS,CAAGkD,CAAK,CAACE,gBAAN,CAAuB,CAAzC,CAEa,CAAV,CAAApD,CAHuC,CAItCwD,CAAW,CAACxD,CAAD,CAAY,SAAZ,CAJ2B,EAMtCwD,CAAW,CAAC,CAAD,CAAI,KAAJ,CAN2B,CAOtCH,CAAK,EAPiC,CAS7C,CATgC,CAS9B,GAT8B,CAUpC,CArDD,KAAMH,CAAAA,CAAK,CAAG,CACVI,aAAa,CAAE,IADL,CAEVrD,MAAM,CAAE,QAFE,CAGVmD,gBAAgB,CAAE,CAHR,CAIVD,SAAS,CAAC,EAJA,CAAd,CAuDA,MAAO,CACHQ,QAAQ,CAjDZ,SAAkBV,CAAlB,CAAmC,CAC/BC,CAAK,CAACC,SAAN,CAAgBhB,IAAhB,CAAqBc,CAArB,CACH,CA8CM,CAEHP,IAAI,CArCR,SAActC,CAAd,CAAsB,CAClBoD,CAAW,CAACpD,CAAD,CAAU,OAAV,CADO,CAElBqD,CAAa,EAChB,CAgCM,CAGHZ,IAAI,CAjCR,UAAe,CACXQ,CAAK,EADM,CAEXG,CAAW,CAAC,CAAD,CAAI,QAAJ,CACd,CA2BM,EF7CG,GACRI,CAAe,WGZmB,CASpC,QAASZ,CAAAA,CAAT,CAAgBa,CAAhB,CAA8B,CAC1B,IAAK,KAAMZ,CAAAA,CAAX,GAA+BC,CAAAA,CAAK,CAACC,SAArC,CACIF,CAAgB,CAACY,CAAD,CAEvB,CAZD,KAAMX,CAAAA,CAAK,CAAG,CACVC,SAAS,CAAC,EADA,CAAd,CAkBA,MAJA3C,CAAAA,QAAQ,CAACsD,gBAAT,CAA0B,iBAA1B,EAA6CC,OAA7C,CAAqDC,CAAM,EAAE,CACzDA,CAAM,CAACrB,gBAAP,CAAwB,OAAxB,CAAiC,IAAKK,CAAM,CAACgB,CAAM,CAACC,EAAR,CAA5C,CACH,CAFD,CAIA,CAAO,CACHC,OAAO,CAfX,SAAiBjB,CAAjB,CAAkC,CAC9BC,CAAK,CAACC,SAAN,CAAgBhB,IAAhB,CAAqBc,CAArB,CACH,CAYM,EHPa,GAElBkB,CAAc,CAAG,CACnB,YAAa,IAAM,CACf1B,CAAU,CAACC,IAAX,EADe,CAEfK,CAAK,CAACL,IAAN,MACH,CAJkB,CAKnB,cAAe,IAAM,CACjBD,CAAU,CAACI,IAAX,EADiB,CAEjBE,CAAK,CAACL,IAAN,CAA0B,EAAf,CAZA,CAYX,CACH,CARkB,CASnB,KAAQ,IAAM,CACVD,CAAU,CAACI,IAAX,EADU,CAEVE,CAAK,CAACF,IAAN,EACH,CAZkB,EAevBe,CAAe,CAACM,OAAhB,CAAyBL,CAAD,EAAiB,CACrCjD,CAAe,CAACiD,CAAD,CADsB,CAElCM,CAAc,CAACN,CAAD,CAFoB,EAGjCM,CAAc,CAACN,CAAD,CAAd,EACP,CAJD,EAMAd,CAAK,CAACY,QAAN,CAAe,CAAC,CAAC1D,MAAM,CAANA,CAAD,CAASG,OAAO,CAAPA,CAAT,CAAD,GAAqB,CAChCL,CAAW,CAACK,CAAD,CAAUH,CAAV,CADqB,CAGlB,KAAX,GAAAA,CAH6B,EAI5BqC,CAAK,CAACI,IAAN,EAEP,CAND"}